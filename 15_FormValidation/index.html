<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous">
        </script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
    </style>
</head>

<body>

    <div class="container">
        <div class="row mt-4">
            <div class="d-flex align-items-center-justify-content-center">
                <div class="col-md-4">
                    <h3 class="text-center">Form Validation </h3>
                    <form action="">
                        <div class="form-group mt-3 mb-3">
                            <input type="text" name="name" id="contact-name" class="form-control"
                                placeholder="enter name" onkeyup="validateName()">
                            <span class="text-danger" id="name-error"> </span>
                        </div>
                        <div class="form-group mt-3 mb-3">
                            <input type="number" name="number" id="contact-number" class="form-control"
                                onkeyup="validateNumber()" placeholder="enter number">
                            <span class="text-danger" id="number-error"> </span>

                        </div>
                        <div class="form-group mt-3 mb-3">
                            <input type="email" name="email" id="contact-email" class="form-control"
                                onkeyup="validateEmail()" placeholder="enter email">
                            <span class="text-danger" id="email-error"> </span>
                        </div>
                        <div class="form-group mt-3 mb-3">
                            <textarea name="message" id="contact-message" class="form-control" cols="30" rows="10"
                                onkeyup="validateMessage()"></textarea>
                            <span class="text-danger" id="message-error"> </span>
                        </div>
                        <div class="form-group mt-3 mb-3">
                            <button class="btn btn-primary" onclick="return validateForm()"
                                type="submit">Submit</button>
                            <span class="text-danger" id="submit-error">Please fix the error</span>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script>
        const nameerr = document.getElementById('name-error');
        const numbererr = document.getElementById('number-error');
        const emailerr = document.getElementById('email-error');
        const messageerr = document.getElementById('message-error');
        const submiterr = document.getElementById('submit-error');

        function validateName() {
            const name = document.getElementById('contact-name').value;
            if (name.length == 0) {
                nameerr.innerHTML = 'name is required';
                return false;
            }
            else if (!name.match(/^[A-Za-z\s]+$/)) {
                nameerr.innerHTML = 'Characters other than letters and spaces are not allowed in the name';
                return false;
            }
            else {
                nameerr.innerHTML = `<i class='fa fa-check-circle'></i>`
                return true;
            }
        }

        function validateNumber() {
            const number = document.getElementById('contact-number');
            if (number.length == 0) {
                numbererr.innerHTML = 'contact number is required'
                return false;
            } else if (number.length !== 10) {
                numbererr.innerHTML = 'contact number legnth must be 10';
                return false;
            } else if (!number.match(/^[0-9]{10}$/)) {
                numbererr.innerHTML = 'text not allowed';
                return false;
            } else {
                numbererr.innerHTML = `<i class='fa fa-check-circle'></i>`
                return true;
            }
        }

        function validateEmail() {
            const email = document.getElementById('contact-email');
            if (email.length == 0) {
                emailerr.innerHTML = 'email is required';
                return false;
            } else if (!email.includes('@')) {
                emailerr.innerHTML = 'email neat to be proper';
                return false;
            } else if (!email.match(/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}$/)) {
                emailerr.innerHTML = 'Please enter a valid email address';
            } else {
                emailerr.innerHTML = `<i class='fa fa-check-circle'></i>`
                return true;
            }
        }

        function validateMessage() {
            const message = document.getElementById('contact-message').value; // Access the value property to get the text content
            const messageerr = document.getElementById('message-error'); // Assuming messageerr is the ID of the error message element

            var required = 30;
            var left = required - message.length;

            if (left > 0) {
                messageerr.innerHTML = left + 'more characters required';
                return false;
            } else {
                messageerr.innerHTML = `<i class='fa fa-check-circle'></i>`;
                return true;
            }
        }
        function validateForm() {
            if (!validateName() || !validateEmail() || !validateMessage() || !validateNumber()) {
                submiterr.style.display = 'block';
                submiterr.innerHTML = 'please fix the respective issue';
                setTimeout(() => {
                    submiterr.style.display = 'none';
                }, 2000);
                return false;
            } else {
                submiterr.innerHTML = `<i class='fa fa-check-circle'></i>`;
                return true;
            }
        }

    </script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous">
        </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
        integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous">
        </script>
</body>

</html>